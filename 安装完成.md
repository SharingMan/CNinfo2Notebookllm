# CNinfo2NotebookLM 安装完成

## ✅ 安装状态

所有依赖已成功安装！

### 已安装的组件

1. **Python 3.11.14** - `/opt/homebrew/bin/python3.11`
2. **notebooklm-py** (v0.3.2) - NotebookLM Python 客户端
3. **playwright** (v1.58.0) - 浏览器自动化工具
4. **httpx** (v0.28.1) - HTTP 客户端
5. **Chromium** - Playwright 浏览器

### 命令行工具

- `notebooklm` - NotebookLM CLI 工具（位于 `/opt/homebrew/bin/notebooklm`）

---

## 🚀 使用方法

### 1. 首次使用：登录 NotebookLM

在使用之前，你需要先登录 NotebookLM：

```bash
/opt/homebrew/bin/notebooklm login
```

这会打开浏览器，让你登录 Google 账号并授权访问 NotebookLM。

### 2. 分析股票

使用包装脚本运行股票分析：

```bash
# 进入项目目录
cd "/Users/jiyingshe/Desktop/AI学习/20-CNinfo to NotebookLM "

# 使用股票代码分析（例如：贵州茅台）
./run_stock_analysis.sh 600519

# 或使用股票名称
./run_stock_analysis.sh "贵州茅台"

# 香港股票（例如：腾讯控股）
./run_stock_analysis.sh 00700
./run_stock_analysis.sh "腾讯控股"
```

### 3. 直接使用 Python 运行

如果你想直接使用 Python 运行：

```bash
/opt/homebrew/bin/python3.11 scripts/run.py 600519
```

---

## 📊 工作流程

当你运行股票分析时，工具会自动：

1. 📥 从巨潮资讯网下载：
   - 近 5 年的年度报告
   - 当年的一季报、中报、三季报

2. 📚 在 NotebookLM 中创建笔记本

3. 🤖 配置"财务分析师" AI 角色
   - 使用专业的财务分析提示词
   - 进行风险检测、估值分析和"击球区"判断

4. 📤 上传所有 PDF 文件到 NotebookLM

5. 🧹 自动清理临时文件

6. ✅ 返回 NotebookLM 笔记本链接

---

## 🔧 技术细节

### 支持的市场

| 市场 | 代码格式 | 示例 |
|------|----------|------|
| A 股 | 6 位数字（0xxxxx, 3xxxxx, 6xxxxx） | 600519（贵州茅台）、000001（平安银行） |
| 港股 | 5 位数字（00xxx, 01xxx, 02xxx, 09xxx） | 00700（腾讯控股）、09988（阿里巴巴） |

### 项目结构

```
20-CNinfo to NotebookLM /
├── scripts/
│   ├── run.py           # 主流程控制脚本
│   ├── download.py      # 巨潮资讯下载逻辑
│   └── upload.py        # NotebookLM 交互逻辑
├── assets/
│   ├── financial_analyst_prompt.txt  # AI 分析师提示词
│   └── stocks.json                   # 股票数据库
├── install.sh                        # 依赖安装脚本
├── run_stock_analysis.sh             # 包装脚本（使用 Python 3.11）
└── README.md
```

---

## ⚠️ 注意事项

1. **首次使用必须登录**：运行 `/opt/homebrew/bin/notebooklm login`
2. **Python 版本**：必须使用 Python 3.11+（已安装在 `/opt/homebrew/bin/python3.11`）
3. **网络要求**：需要访问巨潮资讯网和 Google NotebookLM
4. **免责声明**：AI 提供的财务分析仅供参考，不构成投资建议

---

## 🆘 故障排除

### 问题：notebooklm 命令找不到

**解决方案**：确保 `/opt/homebrew/bin` 在你的 PATH 中

```bash
export PATH="/opt/homebrew/bin:$PATH"
```

或者使用完整路径：`/opt/homebrew/bin/notebooklm`

### 问题：Python 版本不兼容

**解决方案**：使用提供的包装脚本 `run_stock_analysis.sh`，它会自动使用 Python 3.11

### 问题：下载失败

**解决方案**：
- 检查网络连接
- 确认股票代码/名称正确
- 查看巨潮资讯网是否可访问

---

## 📚 相关资源

- [NotebookLM 官网](https://notebooklm.google.com/)
- [巨潮资讯网](http://www.cninfo.com.cn/)
- [notebooklm-py GitHub](https://github.com/dzhng/notebooklm-py)

---

**安装完成时间**：2026-02-10 09:12

祝你使用愉快！🎉
